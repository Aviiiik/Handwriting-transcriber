<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Handwriting to Text & Proofreader</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Lora:wght@400;700&family=Roboto+Mono:wght+400&family=Georgia&family=Verdana&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Custom Font Classes */
        .font-serif-book { font-family: 'Lora', serif; }
        .font-mono-code { font-family: 'Roboto Mono', monospace; }
        .font-georgia { font-family: Georgia, serif; }
        .font-verdana { font-family: Verdana, sans-serif; }
        
        .loader {
            border: 4px solid #4b5563; /* gray-600 */
            border-top: 4px solid #ec4899; /* pink-500 */
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        #image-preview-container {
            width: 100%;
            max-height: 400px;
            overflow: hidden;
        }
        #image-preview {
            width: 100%;
            height: auto;
            object-fit: contain;
        }
        
        /* --- Enhanced Resource Formatting --- */
        #resource-output ol {
            list-style: decimal inside;
            padding-left: 1rem;
        }
        #resource-output li {
            margin-bottom: 0.75rem;
            line-height: 1.4;
        }
        #resource-output a {
            color: #f472b6; /* pink-400 */
            text-decoration: underline;
            word-break: break-all;
        }
    </style>
</head>
<body class="bg-gray-900 flex items-center justify-center min-h-screen py-12">
    <div class="container mx-auto p-4 max-w-4xl">
        <div class="bg-gray-800 rounded-lg shadow-xl p-6 md:p-8 border border-pink-900/50">
            <h1 class="text-3xl md:text-4xl font-bold text-center text-pink-500 mb-6">Hello Snigdha (No exclamation mark)</h1>

            <div id="drop-zone" class="border-2 border-dashed border-gray-600 rounded-lg p-4 flex flex-col items-center mb-6">
                <h2 class="text-xl font-semibold text-pink-300 mb-4">1. Upload a Handwritten Document (Drag & Drop Here)</h2>
                <input type="file" id="image-upload" accept="image/*,application/pdf" class="block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-pink-900/50 file:text-pink-300 hover:file:bg-pink-800/50 cursor-pointer"/>
                <div id="image-preview-container" class="mt-4 border rounded-lg bg-black/20 hidden">
                    <img id="image-preview" src="#" alt="Image Preview" />
                </div>
            </div>

            <div id="pdf-controls-section" class="border-2 border-dashed border-gray-600 rounded-lg p-4 flex flex-col items-center mb-6 hidden">
                <h2 class="text-xl font-semibold text-pink-300 mb-4">Select Pages to Transcribe</h2>
                <div class="flex flex-col md:flex-row space-y-3 md:space-y-0 md:space-x-4 w-full justify-center">
                    <div class="flex items-center space-x-2">
                        <label for="page-range-input" class="text-gray-400 whitespace-nowrap">Page(s) (e.g., 1, 3-5, all):</label>
                        <input type="text" id="page-range-input" value="all" class="flex-grow bg-gray-700 text-gray-200 border border-gray-600 rounded-lg p-2 focus:ring-pink-500 focus:border-pink-500"/>
                    </div>
                </div>
            </div>

            <div class="text-center mb-6">
                 <button id="transcribe-btn" class="px-6 py-3 bg-pink-600 text-white font-semibold rounded-lg shadow-md hover:bg-pink-700 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-opacity-75 transition-transform transform hover:scale-105 disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed" disabled>
                    Transcribe(Ask Nicely)
                </button>
                 <button id="clear-btn" class="px-6 py-3 bg-gray-600 text-white font-semibold rounded-lg shadow-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-75 transition-transform transform hover:scale-105">
                    Clear All(Once again, Ask Nicely)
                </button>
            </div>

            <div id="results-section" class="space-y-6 hidden">
                <div>
                    <h2 class="text-xl font-semibold text-pink-300 mb-2">2. Transcribed Text (Send feet pics)</h2>
                    <div id="transcribed-container" class="relative border-2 border-solid border-gray-700 rounded-lg p-4 bg-gray-900/50">
                        <div id="loader-transcribe" class="loader hidden absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"></div>
                        <div id="transcribed-text" class="w-full bg-gray-800 p-4 rounded-md shadow-inner text-gray-200 min-h-[150px] whitespace-pre-wrap"></div>
                        
                        <div id="page-reader-controls" class="flex items-center justify-center space-x-4 mt-4 text-sm">
                            <button id="prev-page-btn" class="px-3 py-1 bg-gray-600 text-white font-semibold rounded-lg hover:bg-gray-700 disabled:bg-gray-700/50" disabled>&leftarrow; Prev</button>
                            <span id="page-counter" class="text-gray-200 whitespace-nowrap">Page 1 of 1 </span>
                            <button id="next-page-btn" class="px-3 py-1 bg-gray-600 text-white font-semibold rounded-lg hover:bg-gray-700 disabled:bg-gray-700/50" disabled>Next &rightarrow;</button>
                        </div>
                        
                        <button id="copy-transcribed-btn" class="absolute top-2 right-2 px-3 py-1 bg-gray-600 text-pink-200 text-sm font-semibold rounded-lg hover:bg-gray-500 focus:outline-none">Copy</button>
                    </div>
                    <div id="copy-transcribed-message" class="text-pink-400 mt-1 text-sm text-right"></div>
                    <div class="text-center mt-4">
                        <button id="proofread-btn" class="px-6 py-2 bg-pink-600 text-white font-semibold rounded-lg shadow-md hover:bg-pink-700 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-opacity-75 transition-transform transform hover:scale-105 disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed" disabled>
                            Proofread Text 
                        </button>
                    </div>
                </div>

                <!-- <div id="proofread-section" class="hidden">
                    <h2 class="text-xl font-semibold text-pink-300 mb-2">3. Proofread & Corrected Text (Page View)</h2>

                    <div id="reader-settings" class="flex justify-end items-center space-x-4 mb-2 text-sm">
                        <label for="font-size" class="text-gray-400">Size:</label>
                        <select id="font-size" class="bg-gray-700 text-gray-200 rounded p-1">
                            <option value="text-base">Small</option>
                            <option value="text-lg" selected>Medium</option>
                            <option value="text-xl">Large</option>
                        </select>

                        <label for="font-family" class="text-gray-400">Font:</label>
                        <select id="font-family" class="bg-gray-700 text-gray-200 rounded p-1">
                            <option value="font-sans" selected>Inter (Sans)</option>
                            <option value="font-serif-book">Lora (Serif Book)</option>
                            <option value="font-mono-code">Mono (Code)</option>
                            <option value="font-georgia">Georgia (Classic Serif)</option>
                            <option value="font-verdana">Verdana (Classic Sans)</option>
                        </select>
                    </div>

                     <div id="proofread-container" class="relative border-2 border-solid border-gray-700 rounded-lg p-4 bg-gray-900/50">
                        <div id="loader-proofread" class="loader hidden absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"></div>
                        <div id="proofread-text" class="w-full bg-gray-800 p-4 rounded-md shadow-inner text-gray-200 min-h-[150px] text-lg font-sans whitespace-pre-wrap"></div>
                        <button id="copy-proofread-btn" class="absolute top-2 right-2 px-3 py-1 bg-gray-600 text-pink-200 text-sm font-semibold rounded-lg hover:bg-gray-500 focus:outline-none">Copy</button>
                    </div>
                    <div id="copy-proofread-message" class="text-pink-400 mt-1 text-sm text-right"></div>
                </div> -->
...
                <div id="proofread-section" class="hidden">
                    <h2 class="text-xl font-semibold text-pink-300 mb-2">3. Proofread & Corrected Text (Send back photos)</h2>

                    <div id="reader-settings" class="flex justify-end items-center space-x-4 mb-2 text-sm">
                        <label for="font-size" class="text-gray-400">Size:</label>
                        <select id="font-size" class="bg-gray-700 text-gray-200 rounded p-1">
                            <option value="text-base">Small</option>
                            <option value="text-lg" selected>Medium</option>
                            <option value="text-xl">Large</option>
                        </select>

                        <label for="font-family" class="text-gray-400">Font:</label>
                        <select id="font-family" class="bg-gray-700 text-gray-200 rounded p-1">
                            <option value="font-sans" selected>Inter (Sans)</option>
                            <option value="font-serif-book">Lora (Serif Book)</option>
                            <option value="font-mono-code">Mono (Code)</option>
                            <option value="font-georgia">Georgia (Classic Serif)</option>
                            <option value="font-verdana">Verdana (Classic Sans)</option>
                        </select>
                    </div>

                     <div id="proofread-container" class="relative border-2 border-solid border-gray-700 rounded-lg p-4 bg-gray-900/50">
                        <div id="loader-proofread" class="loader hidden absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"></div>
                        <div id="proofread-text" class="w-full bg-gray-800 p-4 rounded-md shadow-inner text-gray-200 min-h-[150px] text-lg font-sans whitespace-pre-wrap"></div>
                        <button id="copy-proofread-btn" class="absolute top-2 right-2 px-3 py-1 bg-gray-600 text-pink-200 text-sm font-semibold rounded-lg hover:bg-gray-500 focus:outline-none">Copy</button>
                    </div>
                    <div id="copy-proofread-message" class="text-pink-400 mt-1 text-sm text-right"></div>
                    
                    <div id="proofread-page-controls" class="flex items-center justify-center space-x-4 mt-4 text-sm hidden">
                        <button id="proofread-prev-page-btn" class="px-3 py-1 bg-gray-600 text-white font-semibold rounded-lg hover:bg-gray-700 disabled:bg-gray-700/50" disabled>&leftarrow; Prev</button>
                        <span id="proofread-page-counter" class="text-gray-200 whitespace-nowrap">Page 1 of 1 </span>
                        <button id="proofread-next-page-btn" class="px-3 py-1 bg-gray-600 text-white font-semibold rounded-lg hover:bg-gray-700 disabled:bg-gray-700/50" disabled>Next &rightarrow;</button>
                    </div>
                    </div>
...
                <div id="resource-generation-section" class="hidden text-center mt-6 space-y-4">
                    <h2 class="text-xl font-semibold text-pink-300 mb-4">4. Generate Resources </h2>
                    <div id="loader-resources" class="loader hidden mx-auto mb-4"></div>

                    <div class="flex flex-wrap justify-center gap-4">
                        <button id="study-material-btn" class="px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-transform transform hover:scale-105 disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed">
                             Generate Study Material Links(See how nice I am)
                        </button>
                        <button id="research-papers-btn" class="px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-transform transform hover:scale-105 disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed">
                             Generate Research Paper Links(Because I care about your education)
                        </button>
                    </div>

                    <div id="resource-output" class="mt-4 border-2 border-solid border-gray-700 rounded-lg p-4 bg-gray-800 text-gray-200 min-h-[100px] text-left">
                        Resources will appear here.
                    </div>
                </div>
            </div>
        </div>
    </div>

  <script src="index.js"></script>
</body>
</html>